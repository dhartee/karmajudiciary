<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enroll Now - Karma Judiciary Indore</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Poppins', sans-serif; }
        .form-input-container { position: relative; }
        .form-input-icon { position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); color: #9ca3af; pointer-events: none; }
        
        /* âœ… --- FINAL CSS FIX --- */
        .form-field {
            display: block;
            width: 100%;
            padding: 0.75rem 1rem; /* 12px 16px */
            background-color: #F3F4F6; /* bg-gray-100 */
            border-radius: 0.5rem; /* rounded-lg */
            border: 2px solid transparent;
            transition: all 0.2s ease-in-out;
        }
        .form-field:focus {
            outline: none;
            border-color: transparent;
            box-shadow: 0 0 0 2px #d946ef; /* ring-2 ring-fuchsia-500 */
        }
        .field-with-icon {
            padding-left: 3rem; /* 48px to make space for the icon */
        }
        /* --- End of Fix --- */

        .button-effect:hover { transform: translateY(-4px) scale(1.05); box-shadow: 0 10px 20px rgba(217, 70, 239, 0.4); }
        .nav-link { position: relative; }
        .nav-link::after { content: ''; position: absolute; width: 0; height: 2px; bottom: -4px; left: 50%; transform: translateX(-50%); background-color: #ec4899; transition: width 0.3s ease; }
        .nav-link:hover::after { width: 100%; }
        .loader {
            border: 4px solid #f3f3f3;
            border-radius: 50%;
            border-top: 4px solid #d946ef;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-50">

    <!-- Complete Navigation Bar -->
    <nav class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <a href="index.html" class="text-2xl font-bold text-fuchsia-600">Karma Judiciary</a>
                </div>
                <div class="hidden md:flex items-center space-x-8">
                    <a href="index.html" class="nav-link text-gray-700 hover:text-fuchsia-600">Home</a>
                    <a href="index.html#Why" class="nav-link text-gray-700 hover:text-fuchsia-600">Why Us</a>
                    <a href="index.html#courses" class="nav-link text-gray-700 hover:text-fuchsia-600">Courses</a>
                    <a href="index.html#story" class="nav-link text-gray-700 hover:text-fuchsia-600">Story</a>
                    <a href="portal.html" class="px-4 py-2 rounded-full bg-orange-500 text-white hover:bg-orange-600 button-effect">
                        Login
                    </a>
                </div>
                <div class="md:hidden flex items-center">
                    <button id="menuToggleBtn" class="text-gray-700">
                        <i data-feather="menu"></i>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile Menu -->
        <div id="mobileMenu" class="md:hidden hidden absolute top-16 left-0 w-full bg-white shadow-md z-50">
            <div class="px-4 py-4 space-y-2">
                <a href="index.html" class="block text-gray-700 hover:text-fuchsia-600">Home</a>
                <a href="index.html#Why" class="block text-gray-700 hover:text-fuchsia-600">Why Us</a>
                <a href="index.html#courses" class="block text-gray-700 hover:text-fuchsia-600">Courses</a>
                <a href="portal.html" class="block w-full text-center px-4 py-2 mt-2 rounded-full bg-fuchsia-600 text-white hover:bg-fuchsia-700">
                    Login
                </a>
            </div>
        </div>
    </nav>

    <main class="py-10 md:py-24 bg-gradient-to-br from-fuchsia-50 via-white to-orange-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12" data-aos="fade-down">
                <h1 class="text-4xl md:text-5xl font-bold text-gray-800 mb-3">Enroll Now</h1>
                <p class="text-lg text-gray-600 max-w-2xl mx-auto">Take the first step towards your dream career.</p>
            </div>
            <div class="bg-white p-8 md:p-10 rounded-2xl shadow-lg max-w-3xl mx-auto" data-aos="fade-up">
                <h2 class="text-2xl font-bold text-fuchsia-600 mb-6">Student Information</h2>
                <form id="enrollment-form" class="space-y-6">
                    <!-- Full Name & Email (Side-by-side) -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="full-name" class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                            <div class="form-input-container">
                                <i data-feather="user" class="form-input-icon"></i>
                                <input type="text" name="fullName" id="full-name" placeholder="Enter your full name" class="form-field field-with-icon" required>
                            </div>
                        </div>
                        <div>
                            <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email Address</label>
                            <div class="form-input-container">
                                <i data-feather="mail" class="form-input-icon"></i>
                                <input type="email" name="email" id="email" placeholder="you@example.com" class="form-field field-with-icon" required>
                            </div>
                        </div>
                    </div>

                    <!-- Phone Number (Full Width) -->
                    <div>
                        <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
                        <div class="form-input-container">
                             <i data-feather="phone" class="form-input-icon"></i>
                            <input type="tel" name="phone" id="phone" placeholder="+91 000-000-0000" class="form-field field-with-icon" required>
                        </div>
                    </div>

                    <!-- Current Address (Full Width & Larger) -->
                    <div>
                        <label for="address" class="block text-sm font-medium text-gray-700 mb-1">Current Address</label>
                        <textarea name="address" id="address" rows="4" placeholder="Enter your complete address" class="form-field"></textarea>
                    </div>
                    
                    <!-- Course Selection (Full Width) -->
                    <div>
                        <label for="course" class="block text-sm font-medium text-gray-700 mb-1">Select Course</label>
                        <select id="course" name="course" class="form-field" required>
                            <option value="" disabled selected>Choose a course...</option>
                            <option value="mpjs_rjs">MPJS, RJS, ADPO, APO</option>
                            <option value="upjs_upsi">UPJS, UPSI</option>
                            <option value="grammar">Hindi & English Grammar</option>
                            <option value="civil_judge">Civil Judge Full Course</option>
                            <option value="adpo">ADPO Course</option>
                            <option value="adj">ADJ Course</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div>
                        <button id="submit-btn" type="submit" class="w-full mt-4 px-6 py-4 text-lg font-bold text-white bg-fuchsia-600 rounded-lg hover:bg-fuchsia-700 focus:outline-none focus:ring-4 focus:ring-fuchsia-300 button-effect flex items-center justify-center">
                            <span id="btn-text">Submit Application</span>
                            <div id="btn-loader" class="loader hidden"></div>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </main>
    
    <footer class="bg-gray-900 text-white py-12">
        <!-- Your footer code can go here -->
    </footer>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <!-- Firebase SDKs -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
        import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyAMDEtM6QMnxeA6vIYTLc1h3VlQ8ji9FwA",
            authDomain: "enrollments-ddefd.firebaseapp.com",
            projectId: "enrollments-ddefd",
            storageBucket: "enrollments-ddefd.appspot.com",
            messagingSenderId: "1091025593515",
            appId: "1:1091025593515:web:abf96c85c0344b61f883ee",
            measurementId: "G-PZ2G5H8D9L"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        const enrollmentForm = document.getElementById('enrollment-form');
        const submitBtn = document.getElementById('submit-btn');
        const btnText = document.getElementById('btn-text');
        const btnLoader = document.getElementById('btn-loader');

        enrollmentForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            btnText.classList.add('hidden');
            btnLoader.classList.remove('hidden');
            submitBtn.disabled = true;

            const formData = new FormData(enrollmentForm);
            const enrollmentData = {
                fullName: formData.get('fullName'),
                email: formData.get('email'),
                phone: formData.get('phone'),
                address: formData.get('address'),
                course: formData.get('course'),
                submittedAt: new Date()
            };

            try {
                const docRef = await addDoc(collection(db, "enrollments"), enrollmentData);
                console.log("Document written with ID: ", docRef.id);
                alert('Success! Your enrollment has been submitted.');
                enrollmentForm.reset();
            } catch (error) {
                console.error("Error adding document: ", error);
                alert('Error: Could not submit enrollment. Please check the console for details.');
            } finally {
                btnText.classList.remove('hidden');
                btnLoader.classList.add('hidden');
                submitBtn.disabled = false;
            }
        });
    </script>
    
    <script nomodule>
      alert("Your browser is outdated. Please use a modern browser to use this site.");
    </script>

    <script>
      feather.replace();
      AOS.init({
          once: true,
          duration: 800,
          easing: 'ease-in-out',
      });
      
      // Mobile Menu Toggle Script
      const menuToggleBtn = document.getElementById('menuToggleBtn');
      const mobileMenu = document.getElementById('mobileMenu');
      if (menuToggleBtn) {
          menuToggleBtn.addEventListener('click', () => {
              mobileMenu.classList.toggle('hidden');
          });
      }
    </script>

</body>
</html>

